name=Illuminance Measurement Server
description=This plugin implements the Illuminance Measurement server cluster.  It will periodically poll an illuminance sensor at the rate set by the plugin option and use that value to populate the MeasuredValue, MinMeasuredValue, and MaxMeasuredValue attributes of the  Illuminance Measurement Cluster.

category=ZCL
quality=development

requiredApis=coap,stack,zcl-core,command-interpreter2,illuminance

illuminance-measurement-server.c

setup(bookkeeping) {
  init=emZclIlluminanceMeasurementServerInitHandler
  networkStatus=emZclIlluminanceMeasurementServerNetworkStatusHandler
}

setup(zclip) {
  provides: illuminance-measurement, server
}

setup(commandLineConfiguration)  {
	illuminance-measurement-server set, illuminanceSetCommand, v
}

setup(eventConfiguration) {
  emZclIlluminanceMeasurementServerReadEventControl,    emZclIlluminanceMeasurementServerReadEventHandler
}

options=maxMeasurementFrequencyS

maxMeasurementFrequencyS.name=Maximum Measurement Frequency (seconds)
maxMeasurementFrequencyS.description=The maximum length of time between illuminance measurement reads.
maxMeasurementFrequencyS.type=NUMBER:1,16534
maxMeasurementFrequencyS.default=300

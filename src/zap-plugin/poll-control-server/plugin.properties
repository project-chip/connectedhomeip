name=Poll Control Server
description=Poll Control Server
category=ZCL
quality=development

providedApis=zcl-poll-control-server
api.zcl-poll-control-server.header=poll-control-server.h

requiredApis=coap,event,hal,stack,zcl-core

poll-control-server.c

implementedCallbacks=emberZclClusterPollControlServerCommandFastPollStopRequestHandler,emberZclClusterPollControlServerCommandSetLongPollIntervalRequestHandler,emberZclClusterPollControlServerCommandSetShortPollIntervalRequestHandler
callbacks=callback.info

setup(bookkeeping) {
  init=emberZclPollControlServerInitHandler  
  preAttributeChange=emZclPollControlServerPreAttributeChangeHandler
  postAttributeChange=emZclPollControlServerPostAttributeChangeHandler
}

options=maxClients,checkInResponseTimeout,acceptSetLongPollIntervalCommand,acceptSetShortPollIntervalCommand

maxClients.name=Maximum Clients Supported
maxClients.description=Maximum number of clients supported
maxClients.type=NUMBER:1,255
maxClients.default=4

checkInResponseTimeout.name=Check-in timeout duration (in QS)
checkInResponseTimeout.description=The amount of time, in quarter seconds, the plugin will wait for Check-In Response commands from Poll Control clients.
checkInResponseTimeout.type=NUMBER
checkInResponseTimeout.default=32

acceptSetLongPollIntervalCommand.name=Accept Set Long Poll Interval commands
acceptSetLongPollIntervalCommand.description=Indicates whether this device will process the optional Set Long Poll Interval command from Poll Control clients.  The Set Long Poll Interval command allows clients to remotely change the long poll interval of this device.
acceptSetLongPollIntervalCommand.type=BOOLEAN
acceptSetLongPollIntervalCommand.default=TRUE

acceptSetShortPollIntervalCommand.name=Accept Set Short Poll Interval commands
acceptSetShortPollIntervalCommand.description=Indicates whether this device will process the optional Set Short Poll Interval command from Poll Control clients.  This Set Short Poll Interval command allows clients to remotely change the short poll interval of this device.
acceptSetShortPollIntervalCommand.type=BOOLEAN
acceptSetShortPollIntervalCommand.default=TRUE

setup(eventConfiguration) {
  emZclPollControlServerCheckInEventControl, emZclPollControlServerCheckInEventHandler
  emZclPollControlServerTickEventControl,    emZclPollControlServerTickEventHandler
}

setup(zclip) {
  provides: poll-control,server
}

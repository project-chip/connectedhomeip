# Copyright (c) 2021 Project CHIP Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

name: 62.2.1. [TC-PS-2.1] Attributes with server as DUT

config:
    cluster: "Power Source"
    endpoint: 1

tests:
    - label: "Wait for the commissioned device to be retrieved"
      cluster: "DelayCommands"
      command: "WaitForCommissionee"

    - label: "Read mandatory non-global attribute: Status"
      command: "readAttribute"
      attribute: "Status"
      response:
          value: 0

    - label: "Read mandatory non-global attribute constraints: Status"
      command: "readAttribute"
      attribute: "Status"
      response:
          constraints:
              type: PowerSourceStatus
              minValue: 0
              maxValue: 3

    - label:
          "Write the default values to mandatory non-global attribute: Status"
      command: "writeAttribute"
      attribute: "Status"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: Status"
      command: "readAttribute"
      attribute: "Status"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: Order"
      command: "readAttribute"
      attribute: "Order"
      response:
          value: 0

    - label: "Read mandatory non-global attribute constraints: Order"
      command: "readAttribute"
      attribute: "Order"
      response:
          constraints:
              type: uint8

    - label: "Write the default values to mandatory non-global attribute: Order"
      command: "writeAttribute"
      attribute: "Order"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: Order"
      command: "readAttribute"
      attribute: "Order"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: Description"
      command: "readAttribute"
      attribute: "Description"
      response:
          value: ""

    - label: "Read mandatory non-global attribute constraints: Description"
      command: "readAttribute"
      attribute: "Description"
      response:
          constraints:
              type: string
              maxLength: 60

    - label:
          "Write the default values to mandatory non-global attribute:
          Description"
      command: "writeAttribute"
      attribute: "Description"
      arguments:
          value: ""
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: Description"
      command: "readAttribute"
      attribute: "Description"
      response:
          value: ""

    #issue disabled this due to #13758
    - label: "Read mandatory non-global attribute: WiredCurrentType"
      disabled: true
      command: "readAttribute"
      attribute: "WiredCurrentType"
      response:
          value: 0

    - label: "Read mandatory non-global attribute constraints: WiredCurrentType"
      disabled: true
      command: "readAttribute"
      attribute: "WiredCurrentType"
      response:
          constraints:
              type: WiredCurrentType
              minValue: 0
              maxValue: 1

    - label:
          "Write the default values to mandatory non-global attribute:
          WiredCurrentType"
      disabled: true
      command: "writeAttribute"
      attribute: "WiredCurrentType"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: WiredCurrentType"
      disabled: true
      command: "readAttribute"
      attribute: "WiredCurrentType"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: BatChargeLevel"
      command: "readAttribute"
      attribute: "BatteryChargeLevel"
      response:
          value: 0

    - label: "Read mandatory non-global attribute constraints: BatChargeLevel"
      command: "readAttribute"
      attribute: "BatteryChargeLevel"
      response:
          constraints:
              type: BatChargeLevel
              minValue: 0
              maxValue: 2

    - label:
          "Write the default values to mandatory non-global attribute:
          BatChargeLevel"
      command: "writeAttribute"
      attribute: "BatteryChargeLevel"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: BatChargeLevel"
      command: "readAttribute"
      attribute: "BatteryChargeLevel"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: BatReplacementNeeded"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplacementNeeded"
      response:
          value: 0

    - label:
          "Read mandatory non-global attribute constraints: BatReplacementNeeded"
      disabled: true
      command: "readAttribute"
      attribute: "BatChargeLevel"
      response:
          constraints:
              type: bool

    - label:
          "Write the default values to mandatory non-global attribute:
          BatReplacementNeeded"
      disabled: true
      command: "writeAttribute"
      attribute: "BatReplacementNeeded"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the mandatory non-global attribute: BatReplacementNeeded"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplacementNeeded"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: BatReplaceability"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplaceability"
      response:
          value: 0

    - label:
          "Read mandatory non-global attribute constraints: BatReplaceability"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplaceability"
      response:
          constraints:
              type: BatReplaceability
              minValue: 0
              maxValue: 3

    - label:
          "Write the default values to mandatory non-global attribute:
          BatReplaceability"
      disabled: true
      command: "writeAttribute"
      attribute: "BatReplaceability"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: BatReplaceability"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplaceability"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: BatReplacementDescription"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplacementDescription"
      response:
          value: ""

    - label:
          "Read mandatory non-global attribute constraints:
          BatReplacementDescription"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplacementDescription"
      response:
          constraints:
              type: string
              maxLength: 60

    - label:
          "Write the default values to mandatory non-global attribute:
          BatReplacementDescription"
      disabled: true
      command: "writeAttribute"
      attribute: "BatReplacementDescription"
      arguments:
          value: ""
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the mandatory non-global attribute:
          BatReplacementDescription"
      disabled: true
      command: "readAttribute"
      attribute: "BatReplacementDescription"
      response:
          value: ""

    - label: "Read mandatory non-global attribute: BatQuantity"
      disabled: true
      command: "readAttribute"
      attribute: "BatQuantity"
      response:
          value: 0

    - label: "Read mandatory non-global attribute constraints: BatQuantity"
      disabled: true
      command: "readAttribute"
      attribute: "BatQuantity"
      response:
          constraints:
              type: uint8

    - label:
          "Write the default values to mandatory non-global attribute:
          BatQuantity"
      disabled: true
      command: "writeAttribute"
      attribute: "BatQuantity"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: BatQuantity"
      disabled: true
      command: "readAttribute"
      attribute: "BatQuantity"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: BatChargeState"
      command: "readAttribute"
      attribute: "BatteryChargeState"
      response:
          value: 0

    - label: "Read mandatory non-global attribute constraints: BatChargeState"
      command: "readAttribute"
      attribute: "BatteryChargeState"
      response:
          constraints:
              type: uint8
              minValue: 0
              maxValue: 3

    - label:
          "Write the default values to mandatory non-global attribute:
          BatChargeState"
      command: "writeAttribute"
      attribute: "BatteryChargeState"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the mandatory non-global attribute: BatChargeState"
      command: "readAttribute"
      attribute: "BatteryChargeState"
      response:
          value: 0

    - label: "Read mandatory non-global attribute: BatFunctionalWhileCharging"
      disabled: true
      command: "readAttribute"
      attribute: "BatFunctionalWhileCharging"
      response:
          value: 0

    - label:
          "Read mandatory non-global attribute constraints:
          BatFunctionalWhileCharging"
      disabled: true
      command: "readAttribute"
      attribute: "BatFunctionalWhileCharging"
      response:
          constraints:
              type: bool

    - label:
          "Write the default values to mandatory non-global attribute:
          BatFunctionalWhileCharging"
      disabled: true
      command: "writeAttribute"
      attribute: "BatFunctionalWhileCharging"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the mandatory non-global attribute:
          BatFunctionalWhileCharging"
      disabled: true
      command: "readAttribute"
      attribute: "BatFunctionalWhileCharging"
      response:
          value: 0

    - label: "Read optional non-global attribute: WiredAssessedInputVoltage"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedInputVoltage"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints:
          WiredAssessedInputVoltage"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedInputVoltage"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          WiredAssessedInputVoltage"
      disabled: true
      command: "writeAttribute"
      attribute: "WiredAssessedInputVoltage"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the optional non-global attribute:
          WiredAssessedInputVoltage"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedInputVoltage"
      response:
          value: 0

    - label: "Read optional non-global attribute: WiredAssessedInputFrequency"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedInputFrequency"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints:
          WiredAssessedInputFrequency"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedInputFrequency"
      response:
          constraints:
              type: uint16

    - label:
          "Write the default values to optional non-global attribute:
          WiredAssessedInputFrequency"
      disabled: true
      command: "writeAttribute"
      attribute: "WiredAssessedInputFrequency"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the optional non-global attribute:
          WiredAssessedInputFrequency"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedInputFrequency"
      response:
          value: 0

    - label: "Read optional non-global attribute: WiredAssessedCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedCurrent"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: WiredAssessedCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedCurrent"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          WiredAssessedCurrent"
      disabled: true
      command: "writeAttribute"
      attribute: "WiredAssessedCurrent"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the optional non-global attribute: WiredAssessedCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredAssessedCurrent"
      response:
          value: 0

    - label: "Read optional non-global attribute: WiredNominalVoltage"
      disabled: true
      command: "readAttribute"
      attribute: "WiredNominalVoltage"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: WiredNominalVoltage"
      disabled: true
      command: "readAttribute"
      attribute: "WiredNominalVoltage"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          WiredNominalVoltage"
      disabled: true
      command: "writeAttribute"
      attribute: "WiredNominalVoltage"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: WiredNominalVoltage"
      disabled: true
      command: "readAttribute"
      attribute: "WiredNominalVoltage"
      response:
          value: 0

    - label: "Read optional non-global attribute: WiredMaximumCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredMaximumCurrent"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: WiredMaximumCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredMaximumCurrent"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          WiredMaximumCurrent"
      disabled: true
      command: "writeAttribute"
      attribute: "WiredMaximumCurrent"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: WiredMaximumCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredMaximumCurrent"
      response:
          value: 0

    - label: "Read optional non-global attribute: WiredPresent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredPresent"
      response:
          value: 0

    - label: "Read optional non-global attribute constraints: WiredPresent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredPresent"
      response:
          constraints:
              type: bool

    - label:
          "Write the default values to optional non-global attribute:
          WiredPresent"
      disabled: true
      command: "writeAttribute"
      attribute: "WiredPresent"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: WiredPresent"
      disabled: true
      command: "readAttribute"
      attribute: "WiredPresent"
      response:
          value: 0

    - label: "Read optional non-global attribute: ActiveWiredFaults"
      disabled: true
      command: "readAttribute"
      attribute: "ActiveWiredFaults"
      response:
          constraints:
              type: list

    - label: "Read optional non-global attribute: BatVoltage"
      command: "readAttribute"
      attribute: "BatteryVoltage"
      response:
          value: 0

    - label: "Read optional non-global attribute constraints: BatVoltage"
      command: "readAttribute"
      attribute: "BatteryVoltage"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute: BatVoltage"
      command: "writeAttribute"
      attribute: "BatteryVoltage"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatVoltage"
      command: "readAttribute"
      attribute: "BatteryVoltage"
      response:
          value: 0

    - label: "Read optional non-global attribute: BatPercentRemaining"
      command: "readAttribute"
      attribute: "BatteryPercentRemaining"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: BatPercentRemaining"
      command: "readAttribute"
      attribute: "BatteryPercentRemaining"
      response:
          constraints:
              type: uint8
              minValue: 0
              maxValue: 200

    - label:
          "Write the default values to optional non-global attribute:
          BatPercentRemaining"
      command: "writeAttribute"
      attribute: "BatteryPercentRemaining"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatPercentRemaining"
      command: "readAttribute"
      attribute: "BatteryPercentRemaining"
      response:
          value: 0

    - label: "Read optional non-global attribute: BatTimeRemaining"
      command: "readAttribute"
      attribute: "BatteryTimeRemaining"
      response:
          value: 0

    - label: "Read optional non-global attribute constraints: BatTimeRemaining"
      command: "readAttribute"
      attribute: "BatteryTimeRemaining"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          BatTimeRemaining"
      command: "writeAttribute"
      attribute: "BatteryTimeRemaining"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatTimeRemaining"
      command: "readAttribute"
      attribute: "BatteryTimeRemaining"
      response:
          value: 0

    - label: "Read optional non-global attribute: BatPresent"
      disabled: true
      command: "readAttribute"
      attribute: "BatPresent"
      response:
          value: 0

    - label: "Read optional non-global attribute constraints: BatPresent"
      disabled: true
      command: "readAttribute"
      attribute: "BatPresent"
      response:
          constraints:
              type: bool

    - label:
          "Write the default values to optional non-global attribute: BatPresent"
      disabled: true
      command: "writeAttribute"
      attribute: "BatPresent"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatPresent"
      disabled: true
      command: "readAttribute"
      attribute: "BatPresent"
      response:
          value: 0

    - label: "Read optional non-global attribute: ActiveBatFaults"
      disabled: true
      command: "readAttribute"
      attribute: "ActiveBatteryFaults"
      response:
          constraints:
              type: list

    - label: "Read optional non-global attribute: BatCommonDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatCommonDesignation"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: BatCommonDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatCommonDesignation"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          BatCommonDesignation"
      disabled: true
      command: "writeAttribute"
      attribute: "BatCommonDesignation"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the optional non-global attribute: BatCommonDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatCommonDesignation"
      response:
          value: 0

    - label: "Read optional non-global attribute: BatANSIDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatANSIDesignation"
      response:
          value: ""

    - label:
          "Read optional non-global attribute constraints: BatANSIDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatANSIDesignation"
      response:
          constraints:
              type: string
              maxLength: 20

    - label:
          "Write the default values to optional non-global attribute:
          BatANSIDesignation"
      disabled: true
      command: "writeAttribute"
      attribute: "BatANSIDesignation"
      arguments:
          value: ""
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatANSIDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatANSIDesignation"
      response:
          value: ""

    - label: "Read optional non-global attribute: BatIECDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatIECDesignation"
      response:
          value: ""

    - label: "Read optional non-global attribute constraints: BatIECDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatIECDesignation"
      response:
          constraints:
              type: string
              maxLength: 20

    - label:
          "Write the default values to optional non-global attribute:
          BatIECDesignation"
      disabled: true
      command: "writeAttribute"
      attribute: "BatIECDesignation"
      arguments:
          value: ""
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatIECDesignation"
      disabled: true
      command: "readAttribute"
      attribute: "BatIECDesignation"
      response:
          value: ""

    - label: "Read optional non-global attribute: BatApprovedChemistry"
      disabled: true
      command: "readAttribute"
      attribute: "BatApprovedChemistry"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: BatApprovedChemistry"
      disabled: true
      command: "readAttribute"
      attribute: "BatApprovedChemistry"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          BatApprovedChemistry"
      disabled: true
      command: "writeAttribute"
      attribute: "BatApprovedChemistry"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label:
          "Reads back the optional non-global attribute: BatApprovedChemistry"
      disabled: true
      command: "readAttribute"
      attribute: "BatApprovedChemistry"
      response:
          value: 0

    - label: "Read optional non-global attribute: BatCapacity"
      disabled: true
      command: "readAttribute"
      attribute: "BatCapacity"
      response:
          value: 0

    - label: "Read optional non-global attribute constraints: BatCapacity"
      disabled: true
      command: "readAttribute"
      attribute: "BatCapacity"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          BatCapacity"
      disabled: true
      command: "writeAttribute"
      attribute: "BatCapacity"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatCapacity"
      disabled: true
      command: "readAttribute"
      attribute: "BatCapacity"
      response:
          value: 0

    - label: "Read optional non-global attribute: BatTimeToFullCharge"
      disabled: true
      command: "readAttribute"
      attribute: "BatTimeToFullCharge"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: BatTimeToFullCharge"
      disabled: true
      command: "readAttribute"
      attribute: "BatTimeToFullCharge"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          BatTimeToFullCharge"
      disabled: true
      command: "writeAttribute"
      attribute: "BatTimeToFullCharge"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatTimeToFullCharge"
      disabled: true
      command: "readAttribute"
      attribute: "BatTimeToFullCharge"
      response:
          value: 0

    - label: "Read optional non-global attribute: BatChargingCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "BatChargingCurrent"
      response:
          value: 0

    - label:
          "Read optional non-global attribute constraints: BatChargingCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "BatChargingCurrent"
      response:
          constraints:
              type: uint32

    - label:
          "Write the default values to optional non-global attribute:
          BatChargingCurrent"
      disabled: true
      command: "writeAttribute"
      attribute: "BatChargingCurrent"
      arguments:
          value: 0
      response:
          error: UNSUPPORTED_WRITE

    - label: "Reads back the optional non-global attribute: BatChargingCurrent"
      disabled: true
      command: "readAttribute"
      attribute: "BatChargingCurrent"
      response:
          value: 0

    - label: "Read optional non-global attribute : ActiveBatChargeFaults"
      disabled: true
      command: "readAttribute"
      attribute: "ActiveBatChargeFaults"
      response:
          constraints:
              type: list

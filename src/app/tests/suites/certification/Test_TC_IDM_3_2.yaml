# Copyright (c) 2021 Project CHIP Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# Auto-generated scripts for harness use only, please review before automation. The endpoints and cluster names are currently set to default

name: 3.3.2. [TC-IDM-3.2] Write Response Action from DUT to TH. [DUT as Server]

PICS:
    - MCORE.IDM.S

config:
    nodeId: 0x12344321
    cluster: "Basic Information"
    endpoint: 0

tests:
    - label: "Note"
      verification: |
          1. The Cluster and Commands should be based on the cluster implementation on the DUT.
          2. The cluster used in the below command is an example, User can use any supported chip cluster/attribute/command.
          3. Test Step 5 cannot be executed with the current SDK
      disabled: true

    - label:
          "Step 1: TH sends the WriteRequestMessage to the DUT to write one
          attribute on a given cluster and endpoint. On receipt of this message,
          DUT should send a write response action."
      verification: |
          The cluster used in the below command is an example, User can use any supported chip cluster/attribute/command.

          ./chip-tool levelcontrol write on-level 2 1 1

          On TH(chip-tool), verify that DUT sends a WriteResponseMessage with the status set to Success for the data sent in the above command and verify by sending a ReadRequestMessage to read the value that was modified
          [1686227268.758171][93527:93529] CHIP:DMG: WriteClient moving to [ResponseRe]
          [1686227268.758192][93527:93529] CHIP:DMG: WriteResponseMessage =
          [1686227268.758200][93527:93529] CHIP:DMG: {
          [1686227268.758205][93527:93529] CHIP:DMG:         AttributeStatusIBs =
          [1686227268.758216][93527:93529] CHIP:DMG:         [
          [1686227268.758222][93527:93529] CHIP:DMG:                 AttributeStatusIB =
          [1686227268.758228][93527:93529] CHIP:DMG:                 {
          [1686227268.758236][93527:93529] CHIP:DMG:                         AttributePathIB =
          [1686227268.758245][93527:93529] CHIP:DMG:                         {
          [1686227268.758253][93527:93529] CHIP:DMG:                                 Endpoint = 0x1,
          [1686227268.758261][93527:93529] CHIP:DMG:                                 Cluster = 0x8,
          [1686227268.758269][93527:93529] CHIP:DMG:                                 Attribute = 0x0000_0011,
          [1686227268.758276][93527:93529] CHIP:DMG:                         }
          [1686227268.758287][93527:93529] CHIP:DMG:
          [1686227268.758294][93527:93529] CHIP:DMG:                         StatusIB =
          [1686227268.758307][93527:93529] CHIP:DMG:                         {
          [1686227268.758315][93527:93529] CHIP:DMG:                                 status = 0x00 (SUCCESS),
          [1686227268.758322][93527:93529] CHIP:DMG:                         },
          [1686227268.758332][93527:93529] CHIP:DMG:
          [1686227268.758337][93527:93529] CHIP:DMG:                 },
          [1686227268.758347][93527:93529] CHIP:DMG:
          [1686227268.758353][93527:93529] CHIP:DMG:         ],
          [1686227268.758363][93527:93529] CHIP:DMG:
          [1686227268.758369][93527:93529] CHIP:DMG:         InteractionModelRevision = 1
          [1686227268.758375][93527:93529] CHIP:DMG: }
          [1686227268.758410][93527:93529] CHIP:DMG: WriteClient moving to [AwaitingDe]
          [1686227268.758462][93527:93529] CHIP:EM: <<< [E:46i S:53908 M:59594222 (Ack:246023482)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686227268.758475][93527:93529] CHIP:IN: (S) Sending msg 59594222 on secure session with LSID: 53908


          ./chip-tool levelcontrol read on-level 1 1

          On TH(chip-tool), verify the attribute value that was modified in above step

          [1686227336.578590][93540:93542] CHIP:DMG: }
          [1686227336.578662][93540:93542] CHIP:TOO: Endpoint: 1 Cluster: 0x0000_0008 Attribute 0x0000_0011 DataVersion: 2737039617
          [1686227336.578696][93540:93542] CHIP:TOO:   OnLevel: 2
          [1686227336.578749][93540:93542] CHIP:EM: <<< [E:46452i S:27133 M:147974322 (Ack:150508079)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686227336.578761][93540:93542] CHIP:IN: (S) Sending msg 147974322 on secure session with LSID: 27133
          [1686227336.578788][93540:93542] CHIP:EM: Flushed pending ack for MessageCounter:150508079 on exchange 46452i
      disabled: true

    - label:
          "Step 2: TH sends the WriteRequestMessage to the DUT to write any
          attribute on an unsupported Endpoint. DUT responds with the Write
          Response action"
      verification: |
          The cluster used in the below command is an example, User can use any supported chip cluster/attribute/command.

           ./chip-tool levelcontrol write on-level 2 1 20

          On TH(chip-tool), Verify  that the DUT sends the status code UNSUPPORTED_ENDPOINT for the data sent in the above command

          [1686227733.922184][93629:93631] CHIP:DMG: WriteClient moving to [ResponseRe]
          [1686227733.922210][93629:93631] CHIP:DMG: WriteResponseMessage =
          [1686227733.922219][93629:93631] CHIP:DMG: {
          [1686227733.922225][93629:93631] CHIP:DMG:         AttributeStatusIBs =
          [1686227733.922236][93629:93631] CHIP:DMG:         [
          [1686227733.922242][93629:93631] CHIP:DMG:                 AttributeStatusIB =
          [1686227733.922250][93629:93631] CHIP:DMG:                 {
          [1686227733.922256][93629:93631] CHIP:DMG:                         AttributePathIB =
          [1686227733.922264][93629:93631] CHIP:DMG:                         {
          [1686227733.922272][93629:93631] CHIP:DMG:                                 Endpoint = 0x14,
          [1686227733.922279][93629:93631] CHIP:DMG:                                 Cluster = 0x8,
          [1686227733.922287][93629:93631] CHIP:DMG:                                 Attribute = 0x0000_0011,
          [1686227733.922293][93629:93631] CHIP:DMG:                         }
          [1686227733.922304][93629:93631] CHIP:DMG:
          [1686227733.922310][93629:93631] CHIP:DMG:                         StatusIB =
          [1686227733.922318][93629:93631] CHIP:DMG:                         {
          [1686227733.922325][93629:93631] CHIP:DMG:                                 status = 0x7f (UNSUPPORTED_ENDPOINT),
          [1686227733.922332][93629:93631] CHIP:DMG:                         },
          [1686227733.922339][93629:93631] CHIP:DMG:
          [1686227733.922345][93629:93631] CHIP:DMG:                 },
          [1686227733.922354][93629:93631] CHIP:DMG:
          [1686227733.922359][93629:93631] CHIP:DMG:         ],
          [1686227733.922369][93629:93631] CHIP:DMG:
          [1686227733.922375][93629:93631] CHIP:DMG:         InteractionModelRevision = 1
          [1686227733.922381][93629:93631] CHIP:DMG: }
          [1686227733.922415][93629:93631] CHIP:DMG: WriteClient moving to [AwaitingDe]
          [1686227733.922426][93629:93631] CHIP:TOO: Response Failure: IM Error 0x0000057F: General error: 0x7f (UNSUPPORTED_ENDPOINT)
          [1686227733.922472][93629:93631] CHIP:EM: <<< [E:27399i S:27512 M:260380598 (Ack:50253556)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686227733.922485][93629:93631] CHIP:IN: (S) Sending msg 260380598 on secure session with LSID: 27512
      disabled: true

    - label:
          "Step 3: TH sends the WriteRequestMessage to the DUT to write any
          attribute on an unsupported cluster. DUT responds with the Write
          Response action"
      verification: |
          The cluster used in the below command is an example, User can use any supported chip cluster/attribute/command.

           ./chip-tool thermostat write unoccupied-heating-setpoint 1200 1 0

          On TH(chip-tool), Verify  that the DUT sends the status code UNSUPPORTED_CLUSTER for the data sent in the above command

          [1686229393.093998][94065:94067] CHIP:EM: Rxd Ack; Removing MessageCounter:56487501 from Retrans Table on exchange 60736i
          [1686229393.094012][94065:94067] CHIP:DMG: WriteClient moving to [ResponseRe]
          [1686229393.094033][94065:94067] CHIP:DMG: WriteResponseMessage =
          [1686229393.094041][94065:94067] CHIP:DMG: {
          [1686229393.094047][94065:94067] CHIP:DMG:         AttributeStatusIBs =
          [1686229393.094058][94065:94067] CHIP:DMG:         [
          [1686229393.094064][94065:94067] CHIP:DMG:                 AttributeStatusIB =
          [1686229393.094072][94065:94067] CHIP:DMG:                 {
          [1686229393.094079][94065:94067] CHIP:DMG:                         AttributePathIB =
          [1686229393.094093][94065:94067] CHIP:DMG:                         {
          [1686229393.094096][94065:94067] CHIP:DMG:                                 Endpoint = 0x0,
          [1686229393.094098][94065:94067] CHIP:DMG:                                 Cluster = 0x201,
          [1686229393.094101][94065:94067] CHIP:DMG:                                 Attribute = 0x0000_0014,
          [1686229393.094103][94065:94067] CHIP:DMG:                         }
          [1686229393.094106][94065:94067] CHIP:DMG:
          [1686229393.094108][94065:94067] CHIP:DMG:                         StatusIB =
          [1686229393.094110][94065:94067] CHIP:DMG:                         {
          [1686229393.094112][94065:94067] CHIP:DMG:                                 status = 0xc3 (UNSUPPORTED_CLUSTER),
          [1686229393.094114][94065:94067] CHIP:DMG:                         },
          [1686229393.094117][94065:94067] CHIP:DMG:
          [1686229393.094118][94065:94067] CHIP:DMG:                 },
          [1686229393.094121][94065:94067] CHIP:DMG:
          [1686229393.094123][94065:94067] CHIP:DMG:         ],
          [1686229393.094126][94065:94067] CHIP:DMG:
          [1686229393.094128][94065:94067] CHIP:DMG:         InteractionModelRevision = 1
          [1686229393.094129][94065:94067] CHIP:DMG: }
          [1686229393.094140][94065:94067] CHIP:DMG: WriteClient moving to [AwaitingDe]
          [1686229393.094144][94065:94067] CHIP:TOO: Response Failure: IM Error 0x000005C3: General error: 0xc3 (UNSUPPORTED_CLUSTER)
          [1686229393.094163][94065:94067] CHIP:EM: <<< [E:60736i S:49727 M:56487502 (Ack:119439349)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686229393.094167][94065:94067] CHIP:IN: (S) Sending msg 56487502 on secure session with LSID: 49727
      disabled: true

    - label:
          "Step 4: TH sends the WriteRequestMessage to the DUT to write an
          unsupported attribute DUT responds with the Write Response action"
      verification: |
          The cluster used in the below command is an example, User can use any supported chip cluster/attribute/command.

           ./chip-tool thermostat write unoccupied-heating-setpoint 1200 1 1

          On TH(chip-tool), Verify  that the DUT sends the status code  UNSUPPORTED_ATTRIBUTE for the data sent in the above command

          [1686228971.778055][93969:93971] CHIP:DMG: WriteResponseMessage =
          [1686228971.778062][93969:93971] CHIP:DMG: {
          [1686228971.778067][93969:93971] CHIP:DMG:         AttributeStatusIBs =
          [1686228971.778078][93969:93971] CHIP:DMG:         [
          [1686228971.778084][93969:93971] CHIP:DMG:                 AttributeStatusIB =
          [1686228971.778091][93969:93971] CHIP:DMG:                 {
          [1686228971.778097][93969:93971] CHIP:DMG:                         AttributePathIB =
          [1686228971.778107][93969:93971] CHIP:DMG:                         {
          [1686228971.778116][93969:93971] CHIP:DMG:                                 Endpoint = 0x1,
          [1686228971.778125][93969:93971] CHIP:DMG:                                 Cluster = 0x201,
          [1686228971.778133][93969:93971] CHIP:DMG:                                 Attribute = 0x0000_0014,
          [1686228971.778140][93969:93971] CHIP:DMG:                         }
          [1686228971.778150][93969:93971] CHIP:DMG:
          [1686228971.778157][93969:93971] CHIP:DMG:                         StatusIB =
          [1686228971.778167][93969:93971] CHIP:DMG:                         {
          [1686228971.778175][93969:93971] CHIP:DMG:                                 status = 0x86 (UNSUPPORTED_ATTRIBUTE),
          [1686228971.778182][93969:93971] CHIP:DMG:                         },
          [1686228971.778193][93969:93971] CHIP:DMG:
          [1686228971.778199][93969:93971] CHIP:DMG:                 },
          [1686228971.778210][93969:93971] CHIP:DMG:
          [1686228971.778216][93969:93971] CHIP:DMG:         ],
          [1686228971.778227][93969:93971] CHIP:DMG:
          [1686228971.778233][93969:93971] CHIP:DMG:         InteractionModelRevision = 1
          [1686228971.778241][93969:93971] CHIP:DMG: }
          [1686228971.778277][93969:93971] CHIP:DMG: WriteClient moving to [AwaitingDe]
          [1686228971.778288][93969:93971] CHIP:TOO: Response Failure: IM Error 0x00000586: General error: 0x86 (UNSUPPORTED_ATTRIBUTE)
          [1686228971.778336][93969:93971] CHIP:EM: <<< [E:10343i S:64864 M:48035208 (Ack:227000243)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686228971.778349][93969:93971] CHIP:IN: (S) Sending msg 48035208 on secure session with LSID: 64864
      disabled: true

    - label:
          "Step 5: TH sends the WriteRequestMessage to the DUT to modify the
          value of one attribute and Set SuppressResponse to True. +"
      verification: |
          Out of Scope
          https://github.com/project-chip/connectedhomeip/issues/8043
      disabled: true

    - label:
          "Step 6: TH sends a ReadRequest message to the DUT to read any
          attribute on any cluster. DUT returns with a report data action with
          the attribute values and the dataversion of the cluster. TH sends a
          WriteRequestMessage to the DUT to modify the value of one attribute
          with the DataVersion field set to the one received in the prior step.
          +"
      verification: |
          The cluster used in the below command is an example, User can use any supported chip cluster/attribute/command.


          ./chip-tool levelcontrol read on-level 1 1

           On TH(chip-tool), Verify the attribute value which is received from DUT
          [1686229541.147770][94111:94113] CHIP:DMG:
          [1686229541.147777][94111:94113] CHIP:DMG:         SuppressResponse = true,
          [1686229541.147784][94111:94113] CHIP:DMG:         InteractionModelRevision = 1
          [1686229541.147789][94111:94113] CHIP:DMG: }
          [1686229541.147862][94111:94113] CHIP:TOO: Endpoint: 1 Cluster: 0x0000_0008 Attribute 0x0000_0011 DataVersion: 2737039621
          [1686229541.147890][94111:94113] CHIP:TOO:   OnLevel: 1
          [1686229541.147948][94111:94113] CHIP:EM: <<< [E:19153i S:22252 M:202945427 (Ack:256959089)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686229541.147961][94111:94113] CHIP:IN: (S) Sending msg 202945427 on secure session with LSID: 22252



           TH sends below mentioned WriteRequestMessage to the DUT to modify the value of one attribute with the DataVersion field set to the one received in the prior step.

          ./chip-tool levelcontrol write on-level 3 1 1 --data-version 0xc4c9d7ae

           On TH(chip-tool), verify that DUT sends a Write Response message with a success

          [1686229590.858793][94124:94126] CHIP:DMG: WriteClient moving to [ResponseRe]
          [1686229590.858813][94124:94126] CHIP:DMG: WriteResponseMessage =
          [1686229590.858821][94124:94126] CHIP:DMG: {
          [1686229590.858827][94124:94126] CHIP:DMG:         AttributeStatusIBs =
          [1686229590.858841][94124:94126] CHIP:DMG:         [
          [1686229590.858847][94124:94126] CHIP:DMG:                 AttributeStatusIB =
          [1686229590.858855][94124:94126] CHIP:DMG:                 {
          [1686229590.858862][94124:94126] CHIP:DMG:                         AttributePathIB =
          [1686229590.858870][94124:94126] CHIP:DMG:                         {
          [1686229590.858879][94124:94126] CHIP:DMG:                                 Endpoint = 0x1,
          [1686229590.858886][94124:94126] CHIP:DMG:                                 Cluster = 0x8,
          [1686229590.858894][94124:94126] CHIP:DMG:                                 Attribute = 0x0000_0011,
          [1686229590.858901][94124:94126] CHIP:DMG:                         }
          [1686229590.858911][94124:94126] CHIP:DMG:
          [1686229590.858918][94124:94126] CHIP:DMG:                         StatusIB =
          [1686229590.858926][94124:94126] CHIP:DMG:                         {
          [1686229590.858934][94124:94126] CHIP:DMG:                                 status = 0x00 (SUCCESS),
          [1686229590.858941][94124:94126] CHIP:DMG:                         },
          [1686229590.858948][94124:94126] CHIP:DMG:
          [1686229590.858955][94124:94126] CHIP:DMG:                 },
          [1686229590.858964][94124:94126] CHIP:DMG:
          [1686229590.858970][94124:94126] CHIP:DMG:         ],
          [1686229590.858981][94124:94126] CHIP:DMG:
          [1686229590.858988][94124:94126] CHIP:DMG:         InteractionModelRevision = 1
          [1686229590.858993][94124:94126] CHIP:DMG: }
          [1686229590.859027][94124:94126] CHIP:DMG: WriteClient moving to [AwaitingDe]
          [1686229590.859070][94124:94126] CHIP:EM: <<< [E:18131i S:14478 M:103762576 (Ack:226584667)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686229590.859083][94124:94126] CHIP:IN: (S) Sending msg 103762576 on secure session with LSID: 14478


           ./chip-tool levelcontrol read on-level 1 1

           On TH(chip-tool), verify that TH receives the WriteResponseMessage with the status set to Success for the data sent in the above command and veriy by sending a ReadRequestMessage to read the value that was modified.

          [1686229613.307472][94130:94132] CHIP:DMG: }
          [1686229613.307596][94130:94132] CHIP:TOO: Endpoint: 1 Cluster: 0x0000_0008 Attribute 0x0000_0011 DataVersion: 2737039622
          [1686229613.307632][94130:94132] CHIP:TOO:   OnLevel: 3
          [1686229613.307719][94130:94132] CHIP:EM: <<< [E:28271i S:6514 M:63187593 (Ack:74885751)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686229613.307737][94130:94132] CHIP:IN: (S) Sending msg 63187593 on secure session with LSID: 6514
          [1686229613.307776][94130:94132] CHIP:EM: Flushed pending ack for MessageCounter:74885751 on exchange 28271i
      disabled: true

    - label:
          "Step 7: TH sends a ReadRequest message to the DUT to read any
          attribute on any cluster. DUT returns with a report data action with
          the attribute values and the dataversion of the cluster. TH sends a
          WriteRequestMessage to the DUT to modify the value of one attribute no
          DataVersion indicated. TH sends a second WriteRequestMessage to the
          DUT to modify the value of an attribute with the dataversion field set
          to the value received earlier."
      verification: |
          The cluster used in the below command is an example, User can use any supported chip cluster/attribute/command.

          ./chip-tool levelcontrol read on-level 1 1

           On TH(chip-tool), Verify that DUT is responds with attribute value

          [1686229658.938062][94141:94143] CHIP:DMG:         InteractionModelRevision = 1
          [1686229658.938067][94141:94143] CHIP:DMG: }
          [1686229658.938140][94141:94143] CHIP:TOO: Endpoint: 1 Cluster: 0x0000_0008 Attribute 0x0000_0011 DataVersion: 2737039622
          [1686229658.938175][94141:94143] CHIP:TOO:   OnLevel: 3
          [1686229658.938226][94141:94143] CHIP:EM: <<< [E:14766i S:48999 M:254860411 (Ack:194137529)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686229658.938238][94141:94143] CHIP:IN: (S) Sending msg 254860411 on secure session with LSID: 48999
          [1686229658.938255][94141:94143] CHIP:EM: Flushed pending ack for MessageCounter:194137529 on exchange 14766i
          [1686229658.938307][94141:94141] CHIP:CTL: Shutting down the commissioner


          ./chip-tool levelcontrol write on-level 4 1 1

           On TH(chip-tool), DUT send a Write Response message with status code as success

          [1686229675.214378][94147:94149] CHIP:DMG: WriteResponseMessage =
          [1686229675.214386][94147:94149] CHIP:DMG: {
          [1686229675.214393][94147:94149] CHIP:DMG:         AttributeStatusIBs =
          [1686229675.214410][94147:94149] CHIP:DMG:         [
          [1686229675.214418][94147:94149] CHIP:DMG:                 AttributeStatusIB =
          [1686229675.214429][94147:94149] CHIP:DMG:                 {
          [1686229675.214439][94147:94149] CHIP:DMG:                         AttributePathIB =
          [1686229675.214451][94147:94149] CHIP:DMG:                         {
          [1686229675.214462][94147:94149] CHIP:DMG:                                 Endpoint = 0x1,
          [1686229675.214473][94147:94149] CHIP:DMG:                                 Cluster = 0x8,
          [1686229675.214484][94147:94149] CHIP:DMG:                                 Attribute = 0x0000_0011,
          [1686229675.214494][94147:94149] CHIP:DMG:                         }
          [1686229675.214509][94147:94149] CHIP:DMG:
          [1686229675.214518][94147:94149] CHIP:DMG:                         StatusIB =
          [1686229675.214530][94147:94149] CHIP:DMG:                         {
          [1686229675.214540][94147:94149] CHIP:DMG:                                 status = 0x00 (SUCCESS),
          [1686229675.214550][94147:94149] CHIP:DMG:                         },
          [1686229675.214562][94147:94149] CHIP:DMG:
          [1686229675.214570][94147:94149] CHIP:DMG:                 },
          [1686229675.214585][94147:94149] CHIP:DMG:
          [1686229675.214592][94147:94149] CHIP:DMG:         ],
          [1686229675.214607][94147:94149] CHIP:DMG:
          [1686229675.214615][94147:94149] CHIP:DMG:         InteractionModelRevision = 1
          [1686229675.214623][94147:94149] CHIP:DMG: }
          [1686229675.214664][94147:94149] CHIP:DMG: WriteClient moving to [AwaitingDe]
          [1686229675.214705][94147:94149] CHIP:EM: <<< [E:50993i S:28788 M:7052880 (Ack:74458729)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686229675.214719][94147:94149] CHIP:IN: (S) Sending msg 7052880 on secure session with LSID: 28788
          [1686229675.214749][94147:94149] CHIP:EM: Flushed pending ack for MessageCounter:74458729 on exchange 50993i



          TH sends below mentioned  second WriteRequestMessage to the DUT to modify the value of an attribute with the dataversion field set to the value received earlier.

           ./chip-tool levelcontrol write on-level 4 1 1 --data-version 0xc4c9d7af

           On TH(chip-tool), verify that  DUT responds as DATA_VERSION_MISMATCH for the second Write request.

          [1686229718.873144][94160:94162] CHIP:EM: Rxd Ack; Removing MessageCounter:265995501 from Retrans Table on exchange 34809i
          [1686229718.873148][94160:94162] CHIP:DMG: WriteClient moving to [ResponseRe]
          [1686229718.873157][94160:94162] CHIP:DMG: WriteResponseMessage =
          [1686229718.873160][94160:94162] CHIP:DMG: {
          [1686229718.873162][94160:94162] CHIP:DMG:         AttributeStatusIBs =
          [1686229718.873165][94160:94162] CHIP:DMG:         [
          [1686229718.873167][94160:94162] CHIP:DMG:                 AttributeStatusIB =
          [1686229718.873170][94160:94162] CHIP:DMG:                 {
          [1686229718.873172][94160:94162] CHIP:DMG:                         AttributePathIB =
          [1686229718.873175][94160:94162] CHIP:DMG:                         {
          [1686229718.873177][94160:94162] CHIP:DMG:                                 Endpoint = 0x1,
          [1686229718.873179][94160:94162] CHIP:DMG:                                 Cluster = 0x8,
          [1686229718.873182][94160:94162] CHIP:DMG:                                 Attribute = 0x0000_0011,
          [1686229718.873184][94160:94162] CHIP:DMG:                         }
          [1686229718.873187][94160:94162] CHIP:DMG:
          [1686229718.873189][94160:94162] CHIP:DMG:                         StatusIB =
          [1686229718.873192][94160:94162] CHIP:DMG:                         {
          [1686229718.873194][94160:94162] CHIP:DMG:                                 status = 0x92 (DATA_VERSION_MISMATCH),
          [1686229718.873196][94160:94162] CHIP:DMG:                         },
          [1686229718.873199][94160:94162] CHIP:DMG:
          [1686229718.873201][94160:94162] CHIP:DMG:                 },
          [1686229718.873203][94160:94162] CHIP:DMG:
          [1686229718.873205][94160:94162] CHIP:DMG:         ],
          [1686229718.873208][94160:94162] CHIP:DMG:
          [1686229718.873210][94160:94162] CHIP:DMG:         InteractionModelRevision = 1
          [1686229718.873212][94160:94162] CHIP:DMG: }
          [1686229718.873223][94160:94162] CHIP:DMG: WriteClient moving to [AwaitingDe]
          [1686229718.873227][94160:94162] CHIP:TOO: Response Failure: IM Error 0x00000592: General error: 0x92 (DATA_VERSION_MISMATCH)
          [1686229718.873244][94160:94162] CHIP:EM: <<< [E:34809i S:30372 M:265995502 (Ack:261218993)] (S) Msg TX to 1:0000000000000001 [58B9] --- Type 0000:10 (SecureChannel:StandaloneAck)
          [1686229718.873248][94160:94162] CHIP:IN: (S) Sending msg 265995502 on secure session with LSID: 30372
      disabled: true

    - label:
          "Step 8: TH sends the WriteRequestMessage to the DUT to modify the
          value of a specific attribute data that needs Timed Write transaction
          to write and this action is not part of a Timed Write transaction."
      verification: |
          DUT implementation required to verify write an attribute which need NEEDS_TIMED_INTERACTION.

          If the Vendor DUT doesn't implement/supported this attribute, Please mark the test step as "Not Applicable"
      disabled: true

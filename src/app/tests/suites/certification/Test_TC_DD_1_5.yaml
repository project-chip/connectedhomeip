# Copyright (c) 2025 Project CHIP Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# Auto-generated scripts for harness use only, please review before automation. The endpoints and cluster names are currently set to default

name:
    3.1.5. [TC-DD-1.5] NFC Rules of Advertisement and Onboarding [DUT -
    Commissionee]

PICS:
    - MCORE.ROLE.COMMISSIONEE
    - MCORE.DD.NFC

config:
    nodeId: 0x12344321
    cluster: "Basic Information"
    endpoint: 0

tests:
    - label: "Preconditions"
      verification: |
          DUT is in its retail packaging.
          DUT or its packaging can be reached (at contact) by the TH NFC reader.
      disabled: true

    - label:
          "Step 1: Keep the DUT in packaging, if needed, activate tag detection
          in TH NFC reader, then bring in TH NFC reader at contact over all
          sides of the DUT packaging."
      verification: |
          Onboarding Payload is not readable from the tag:
          Either the tag is not detected,
          or the content read is not Onboarding Payload.
      disabled: true

    - label:
          "Step 2a: Unpack DUT from its packaging, locate NFC tag, and, if
          needed, follow instructions to activate the NFC tag."
      verification: |
          NFC tag is ready (will be verified in next step)
      disabled: true

    - label:
          "Step 2b: If needed, activate tag detection in TH NFC reader, then
          bring in TH NFC reader close to the DUT’s NFC tag."
      verification: |
          1. The tag is detected,
          2. the content is read,
          3. it contains a payload formatted as NDEF 1.0 with a Record 1.0
          of type URI 1.0 whose data starts with the string "MT:"
      disabled: true

    - label:
          "Step 3a: Save the NFC tag onboarding content, then scan the DUT’s QR
          code"
      verification: |
          The onboarding payload is the same in QR code and NFC tag.
      disabled: true

    - label: "Step 3b: Scan the DUT’s QR code."
      verification: |
          The onboarding payload is exactly the same in QR code and NFC tag.
      disabled: true

    - label:
          "Step 4a: Using a tag writing application such as NFC Tool, try to
          write a new NDEF in the tag."
      verification: |
          Write fails
      disabled: true

    - label:
          "Step 4b: If needed, activate tag detection in TH NFC reader, then
          bring in TH NFC reader close to the DUT’s NFC tag."
      verification: |
          The tag is detected,
          the content is read,
          it contains the same payload than saved in step 3.a
      disabled: true

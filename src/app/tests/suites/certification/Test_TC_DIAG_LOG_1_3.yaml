# Copyright (c) 2021 Project CHIP Authors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

name: 54.3. TC-Diag Log-1.3 Diagnostic Logs Cluster Commands Checks[DUT Client]

config:
    nodeId: 0x12344321
    cluster: "Basic"
    endpoint: 0

tests:
    - label: "Commission DUT to TH"
      verification: ""
      disabled: true

    - label: "DUT sends RetrieveLogsRequest Command to TH"
      verification:
          "grl_matter@GRL-Matters-MacBook-Air debug % ./chip-tool diagnosticlogs
          retrieve-logs-request 0 0 test.txt 1 0 [1646215088531] [15387:2221674]
          CHIP: [DMG] InvokeResponseMessage = [1646215088531] [15387:2221674]
          CHIP: [DMG] { [1646215088531] [15387:2221674] CHIP: [DMG]
          suppressResponse = false, [1646215088531] [15387:2221674] CHIP: [DMG]
          InvokeResponseIBs = [1646215088531] [15387:2221674] CHIP: [DMG] [
          [1646215088531] [15387:2221674] CHIP: [DMG] InvokeResponseIB =
          [1646215088531] [15387:2221674] CHIP: [DMG] {[1646215088531]
          [15387:2221674] CHIP: [DMG] CommandStatusIB = [1646215088531]
          [15387:2221674] CHIP: [DMG] { [1646215088531] [15387:2221674] CHIP:
          [DMG] CommandPathIB = [1646215088531] [15387:2221674] CHIP: [DMG]
          {[1646215088531] [15387:2221674] CHIP: [DMG] EndpointId = 0x0,
          [1646215088531] [15387:2221674] CHIP: [DMG] ClusterId = 0x32,
          [1646215088531] [15387:2221674] CHIP: [DMG] CommandId = 0x0,
          [1646215088531] [15387:2221674] CHIP: [DMG] }, [1646215088531]
          [15387:2221674] CHIP: [DMG]  [1646215088531] [15387:2221674] CHIP:
          [DMG] StatusIB = [1646215088531] [15387:2221674] CHIP: [DMG] {
          [1646215088531] [15387:2221674] CHIP: [DMG] status = 0x0,
          [1646215088531] [15387:2221674] CHIP: [DMG] }, [1646215088531]
          [15387:2221674] CHIP: [DMG] [1646215088531] [15387:2221674] CHIP:
          [DMG] }, [1646215088531] [15387:2221674] CHIP: [DMG]  [1646215088531]
          [15387:2221674] CHIP: [DMG] }, [1646215088531] [15387:2221674] CHIP:
          [DMG]  [1646215088531] [15387:2221674] CHIP: [DMG] ], [1646215088532]
          [15387:2221674] CHIP: [DMG]  [1646215088532] [15387:2221674] CHIP:
          [DMG] InteractionModelRevision = 1 [1646215088532] [15387:2221674]
          CHIP: [DMG] }, [1646215088532] [15387:2221674] CHIP: [DMG] Received
          Command Response Status for Endpoint=0 Cluster=0x0000_0032
          Command=0x0000_0000 Status=0x0"
      disabled: true

    - label: "In case TH initiates a BDX Transfer"
      verification: ""
      disabled: true

    - label: "In case TH does not initiate BDX Transfer"
      verification:
          "grl_matter@GRL-Matters-MacBook-Air debug % ./chip-tool diagnosticlogs
          retrieve-logs-request 0 0 test.txt 1 0 [1646215088531] [15387:2221674]
          CHIP: [DMG] InvokeResponseMessage = [1646215088531] [15387:2221674]
          CHIP: [DMG] { [1646215088531] [15387:2221674] CHIP: [DMG]
          suppressResponse = false,  [1646215088531] [15387:2221674] CHIP: [DMG]
          InvokeResponseIBs =[1646215088531] [15387:2221674] CHIP: [DMG] [
          [1646215088531] [15387:2221674] CHIP: [DMG] InvokeResponseIB
          =[1646215088531] [15387:2221674] CHIP: [DMG] { [1646215088531]
          [15387:2221674] CHIP: [DMG] CommandStatusIB = [1646215088531]
          [15387:2221674] CHIP: [DMG] { [1646215088531] [15387:2221674] CHIP:
          [DMG] CommandPathIB = [1646215088531] [15387:2221674] CHIP: [DMG] {
          [1646215088531] [15387:2221674] CHIP: [DMG] EndpointId =
          0x0,[1646215088531] [15387:2221674] CHIP: [DMG] ClusterId = 0x32,
          [1646215088531] [15387:2221674] CHIP: [DMG] CommandId = 0x0,
          [1646215088531] [15387:2221674] CHIP: [DMG] }, [1646215088531]
          [15387:2221674] CHIP: [DMG]  [1646215088531] [15387:2221674] CHIP:
          [DMG] StatusIB = [1646215088531] [15387:2221674] CHIP: [DMG] {
          [1646215088531] [15387:2221674] CHIP: [DMG] status = 0x0,
          [1646215088531] [15387:2221674] CHIP: [DMG] }, [1646215088531]
          [15387:2221674] CHIP: [DMG]  [1646215088531] [15387:2221674] CHIP:
          [DMG] }, [1646215088531] [15387:2221674] CHIP: [DMG]  [1646215088531]
          [15387:2221674] CHIP: [DMG] }, [1646215088531] [15387:2221674] CHIP:
          [DMG]  [1646215088531] [15387:2221674] CHIP: [DMG] ], [1646215088532]
          [15387:2221674] CHIP: [DMG]  [1646215088532] [15387:2221674] CHIP:
          [DMG] InteractionModelRevision = 1 [1646215088532] [15387:2221674]
          CHIP: [DMG] }, [1646215088532] [15387:2221674] CHIP: [DMG] Received
          Command Response Status for Endpoint=0 Cluster=0x0000_0032
          Command=0x0000_0000 Status=0x0"
      disabled: true

<?xml version="1.0"?>
<!--
Copyright (c) 2025 Project CHIP Authors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<!--
XML generated by Alchemy; DO NOT EDIT.
Source: src/service_device_management/JointFabricAdministratorCluster.adoc
Parameters: 
Git: 0.9-fall2024-2942-g1338c37b8-dirty
-->
<configurator xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../zcl.xsd">
  <domain name="General"/>
  <enum name="ICACResponseStatusEnum" type="enum8">
    <cluster code="0x0753"/>
    <item name="OK" value="0x00"/>
    <item name="InvalidPublicKey" value="0x01"/>
    <item name="InvalidICAC" value="0x02"/>
  </enum>

  <enum name="StatusCodeEnum" type="enum8">
    <cluster code="0x0753"/>
    <item name="VIDNotVerified" value="0x02"/>
    <item name="InvalidAdministratorFabricIndex" value="0x03"/>
  </enum>

  <enum name="TransferAnchorResponseStatusEnum" type="enum8">
    <cluster code="0x0753"/>
    <item name="OK" value="0x00"/>
    <item name="TransferAnchorStatusDatastoreBusy" value="0x01"/>
    <item name="TransferAnchorStatusNoUserConsent" value="0x02"/>
  </enum>

  <cluster apiMaturity="provisional">
    <domain>General</domain>
    <name>Joint Fabric Administrator</name>
    <code>0x0753</code>
    <define>JOINT_FABRIC_ADMINISTRATOR_CLUSTER</define>
    <description>An instance of the Joint Fabric Administrator Cluster only applies to Joint Fabric Administrator nodes fulfilling the role of Anchor CA.</description>
    <client init="false" tick="false">true</client>
    <server init="false" tick="false">true</server>
    <globalAttribute code="0xFFFD" side="either" value="1"/>
    <attribute code="0x0000" side="server" name="AdministratorFabricIndex" define="ADMINISTRATOR_FABRIC_INDEX" type="fabric_idx" isNullable="true" min="1" max="254">
      <access op="read" privilege="administer"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </attribute>
    <command code="0x00" source="client" name="ICACCSRRequest" response="ICACCSRResponse">
      <description>This command SHALL be generated during Joint Commissioning Method and subsequently be responded in the form of an ICACCSRResponse command.</description>
      <access op="invoke" privilege="administer"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x01" source="server" name="ICACCSRResponse" disableDefaultResponse="true">
      <description>This command SHALL be generated in response to a ICACCSRRequest command.</description>
      <arg id="0" name="ICACCSR" type="long_octet_string" length="600"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x02" source="client" name="AddICAC" response="ICACResponse">
      <description>This command SHALL be generated and executed during Joint Commissioning Method and subsequently be responded in the form of an ICACResponse command.</description>
      <access op="invoke" privilege="administer"/>
      <arg id="1" name="ICACValue" type="long_octet_string" length="400"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x03" source="server" name="ICACResponse" disableDefaultResponse="true">
      <description>This command SHALL be generated in response to the AddICAC command.</description>
      <arg id="0" name="StatusCode" type="ICACResponseStatusEnum" min="0x00" max="0x02"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x04" source="client" name="OpenJointCommissioningWindow">
      <description>This command SHALL fail with a InvalidAdministratorFabricIndex status code sent back to the initiator if the AdministratorFabricIndex field has the value of null.</description>
      <access op="invoke" privilege="administer"/>
      <arg id="0" name="CommissioningTimeout" type="int16u"/>
      <arg id="1" name="PAKEPasscodeVerifier" type="octet_string"/>
      <arg id="2" name="Discriminator" type="int16u" max="4095"/>
      <arg id="3" name="Iterations" type="int32u" min="1000" max="100000"/>
      <arg id="4" name="Salt" type="octet_string" length="32" minLength="16"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x05" source="client" name="TransferAnchorRequest" response="TransferAnchorResponse">
      <description>This command SHALL be sent by a candidate Joint Fabric Anchor Administrator to the current Joint Fabric Anchor Administrator to request transfer of the Anchor Fabric.</description>
      <access op="invoke" privilege="administer"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x06" source="server" name="TransferAnchorResponse" disableDefaultResponse="true">
      <description>This command SHALL be generated in response to the Transfer Anchor Request command.</description>
      <arg id="0" name="StatusCode" type="TransferAnchorResponseStatusEnum" min="0x00" max="0x02"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x07" source="client" name="TransferAnchorComplete">
      <description>This command SHALL indicate the completion of the transfer of the Anchor Fabric to another Joint Fabric Ecosystem Administrator.</description>
      <access op="invoke" privilege="administer"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

    <command code="0x08" source="client" name="AnnounceJointFabricAdministrator">
      <description>This command SHALL be used for communicating to client the endpoint that holds the Joint Fabric Administrator Cluster.</description>
      <access op="invoke" privilege="administer"/>
      <arg id="0" name="EndpointID" type="endpoint_no"/>
      <otherwiseConform>
        <provisionalConform/>
        <mandatoryConform/>
      </otherwiseConform>
    </command>

  </cluster>
</configurator>

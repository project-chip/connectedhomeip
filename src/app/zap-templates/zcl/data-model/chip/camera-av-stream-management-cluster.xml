<?xml version="1.0"?>
<!--
Copyright (c) 2024-2025 Project CHIP Authors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<!--
XML generated by Alchemy; DO NOT EDIT.
Source: src/app_clusters/CameraAVStreamManagement.adoc
Parameters: in-progress 
Git: 1.4-526-g306635762
-->
<configurator xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../zcl.xsd">
  <domain name="Cameras"/>
  <enum name="AudioCodecEnum" type="enum8">
    <cluster code="0x0551"/>
    <item name="OPUS" value="0x00"/>
    <item name="AAC-LC" value="0x01"/>
  </enum>

  <enum name="ImageCodecEnum" type="enum8">
    <cluster code="0x0551"/>
    <item name="JPEG" value="0x00"/>
  </enum>

  <enum name="TriStateAutoEnum" type="enum8">
    <cluster code="0x0551"/>
    <item name="Off" value="0x00"/>
    <item name="On" value="0x01"/>
    <item name="Auto" value="0x02"/>
  </enum>

  <enum name="TwoWayTalkSupportTypeEnum" type="enum8">
    <cluster code="0x0551"/>
    <item name="NotSupported" value="0x00"/>
    <item name="HalfDuplex" value="0x01"/>
    <item name="FullDuplex" value="0x02"/>
  </enum>

  <enum name="VideoCodecEnum" type="enum8">
    <cluster code="0x0551"/>
    <item name="H264" value="0x00"/>
    <item name="HEVC" value="0x01"/>
    <item name="VVC" value="0x02"/>
    <item name="AV1" value="0x03"/>
  </enum>

  <struct name="AudioCapabilitiesStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="MaxNumberOfChannels" type="int8u" min="1"/>
    <item fieldId="1" name="SupportedCodecs" array="true" type="AudioCodecEnum" minLength="1"/>
    <item fieldId="2" name="SupportedSampleRates" array="true" type="int32u" minLength="1"/>
    <item fieldId="3" name="SupportedBitDepths" array="true" type="int8u" minLength="1"/>
  </struct>

  <struct name="AudioStreamStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="AudioStreamID" type="int16u"/>
    <item fieldId="1" name="StreamUsage" type="StreamUsageEnum" min="0x00" max="0x03"/>
    <item fieldId="2" name="AudioCodec" type="AudioCodecEnum" min="0x00" max="0x01"/>
    <item fieldId="3" name="ChannelCount" type="int8u" min="1" max="8"/>
    <item fieldId="4" name="SampleRate" type="int32u" min="1"/>
    <item fieldId="5" name="BitRate" type="int32u" min="1"/>
    <item fieldId="6" name="BitDepth" type="int8u" default="16" min="8" max="32"/>
    <item fieldId="7" name="ReferenceCount" type="int8u" default="0"/>
  </struct>

  <struct name="RateDistortionTradeOffPointsStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="Codec" type="VideoCodecEnum" min="0x00" max="0x03"/>
    <item fieldId="1" name="Resolution" type="VideoResolutionStruct"/>
    <item fieldId="2" name="MinBitRate" type="int32u"/>
  </struct>

  <struct name="SnapshotParamsStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="Resolution" type="VideoResolutionStruct"/>
    <item fieldId="1" name="MaxFrameRate" type="int16u" min="1"/>
    <item fieldId="2" name="ImageCodec" type="ImageCodecEnum" min="0x00" max="0x00"/>
  </struct>

  <struct name="SnapshotStreamStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="SnapshotStreamID" type="int16u"/>
    <item fieldId="1" name="ImageCodec" type="ImageCodecEnum" min="0x00" max="0x00"/>
    <item fieldId="2" name="FrameRate" type="int16u" min="1"/>
    <item fieldId="3" name="BitRate" type="int32u" min="1"/>
    <item fieldId="4" name="MinResolution" type="VideoResolutionStruct"/>
    <item fieldId="5" name="MaxResolution" type="VideoResolutionStruct"/>
    <item fieldId="6" name="Quality" type="int8u" min="1" max="100"/>
    <item fieldId="7" name="ReferenceCount" type="int8u" default="0"/>
  </struct>

  <struct name="VideoResolutionStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="Width" type="int16u" min="1"/>
    <item fieldId="1" name="Height" type="int16u" min="1"/>
  </struct>

  <struct name="VideoSensorParamsStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="SensorWidth" type="int16u" min="64"/>
    <item fieldId="1" name="SensorHeight" type="int16u" min="64"/>
    <item fieldId="2" name="HDRCapable" type="boolean"/>
    <item fieldId="3" name="MaxFPS" type="int16u" min="1"/>
    <item fieldId="4" name="MaxHDRFPS" type="int16u" min="1"/>
  </struct>

  <struct name="VideoStreamStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <item fieldId="0" name="VideoStreamID" type="int16u"/>
    <item fieldId="1" name="StreamUsage" type="StreamUsageEnum" min="0x00" max="0x03"/>
    <item fieldId="2" name="VideoCodec" type="VideoCodecEnum" min="0x00" max="0x03"/>
    <item fieldId="3" name="MinFrameRate" type="int16u" min="1"/>
    <item fieldId="4" name="MaxFrameRate" type="int16u" min="1"/>
    <item fieldId="5" name="MinResolution" type="VideoResolutionStruct"/>
    <item fieldId="6" name="MaxResolution" type="VideoResolutionStruct"/>
    <item fieldId="7" name="MinBitRate" type="int32u" min="1"/>
    <item fieldId="8" name="MaxBitRate" type="int32u" min="1"/>
    <item fieldId="9" name="MinFragmentLen" type="int16u" default="4000" max="65500"/>
    <item fieldId="10" name="MaxFragmentLen" type="int16u" default="4000" max="65500"/>
    <item fieldId="11" name="WatermarkEnabled" type="boolean" optional="true" default="0"/>
    <item fieldId="12" name="OSDEnabled" type="boolean" optional="true" default="0"/>
    <item fieldId="13" name="ReferenceCount" type="int8u" default="0"/>
  </struct>

  <struct name="ViewportStruct" apiMaturity="provisional">
    <cluster code="0x0551"/>
    <cluster code="0x0552"/>
    <item fieldId="0" name="X1" type="int16u" default="0"/>
    <item fieldId="1" name="Y1" type="int16u" default="0"/>
    <item fieldId="2" name="X2" type="int16u" default="0"/>
    <item fieldId="3" name="Y2" type="int16u" default="0"/>
  </struct>

  <cluster apiMaturity="provisional">
    <domain>Cameras</domain>
    <name>Camera AV Stream Management</name>
    <code>0x0551</code>
    <define>CAMERA_AV_STREAM_MANAGEMENT_CLUSTER</define>
    <description>The Camera AV Stream Management cluster is used to allow clients to manage, control, and configure various audio, video, and snapshot streams on a camera.</description>
    <client init="false" tick="false">true</client>
    <server init="false" tick="false">true</server>
    <globalAttribute code="0xFFFD" side="either" value="1"/>
    <attribute code="0x0000" side="server" define="MAX_CONCURRENT_VIDEO_ENCODERS" type="int8u" optional="true">
      <description>MaxConcurrentVideoEncoders</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0001" side="server" define="MAX_ENCODED_PIXEL_RATE" type="int32u" optional="true">
      <description>MaxEncodedPixelRate</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0002" side="server" define="VIDEO_SENSOR_PARAMS" type="VideoSensorParamsStruct" optional="true">
      <description>VideoSensorParams</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0003" side="server" define="NIGHT_VISION_CAPABLE" type="boolean" optional="true">
      <description>NightVisionCapable</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0004" side="server" define="MIN_VIEWPORT" type="VideoResolutionStruct" optional="true">
      <description>MinViewport</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0005" side="server" define="RATE_DISTORTION_TRADE_OFF_POINTS" type="array" entryType="RateDistortionTradeOffPointsStruct" optional="true">
      <description>RateDistortionTradeOffPoints</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0006" side="server" define="MAX_CONTENT_BUFFER_SIZE" type="int32u" optional="true">
      <description>MaxContentBufferSize</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0007" side="server" define="MICROPHONE_CAPABILITIES" type="AudioCapabilitiesStruct" optional="true">
      <description>MicrophoneCapabilities</description>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0008" side="server" define="SPEAKER_CAPABILITIES" type="AudioCapabilitiesStruct" optional="true">
      <description>SpeakerCapabilities</description>
      <mandatoryConform>
        <andTerm>
          <feature name="ADO"/>
          <feature name="SPKR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0009" side="server" define="TWO_WAY_TALK_SUPPORT" type="TwoWayTalkSupportTypeEnum" min="0x00" max="0x02" optional="true">
      <description>TwoWayTalkSupport</description>
      <mandatoryConform>
        <andTerm>
          <feature name="ADO"/>
          <feature name="SPKR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x000A" side="server" define="SUPPORTED_SNAPSHOT_PARAMS" type="array" entryType="SnapshotParamsStruct" optional="true">
      <description>SupportedSnapshotParams</description>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x000B" side="server" define="MAX_NETWORK_BANDWIDTH" type="int32u">MaxNetworkBandwidth</attribute>
    <attribute code="0x000C" side="server" define="CURRENT_FRAME_RATE" type="int16u" optional="true">
      <description>CurrentFrameRate</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x000D" side="server" define="HDRMODE_ENABLED" type="boolean" default="0" writable="true" optional="true">
      <description>HDRModeEnabled</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform>
        <feature name="VDO"/>
      </optionalConform>
    </attribute>
    <attribute code="0x000E" side="server" define="FABRICS_USING_CAMERA" type="array" entryType="fabric_idx">FabricsUsingCamera</attribute>
    <attribute code="0x000F" side="server" define="ALLOCATED_VIDEO_STREAMS" type="array" entryType="VideoStreamStruct" optional="true">
      <description>AllocatedVideoStreams</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0010" side="server" define="ALLOCATED_AUDIO_STREAMS" type="array" entryType="AudioStreamStruct" optional="true">
      <description>AllocatedAudioStreams</description>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0011" side="server" define="ALLOCATED_SNAPSHOT_STREAMS" type="array" entryType="SnapshotStreamStruct" optional="true">
      <description>AllocatedSnapshotStreams</description>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0012" side="server" define="RANKED_VIDEO_STREAM_PRIORITIES_LIST" type="array" entryType="StreamUsageEnum" optional="true">
      <description>RankedVideoStreamPrioritiesList</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0013" side="server" define="SOFT_RECORDING_PRIVACY_MODE_ENABLED" type="boolean" default="0" writable="true" optional="true">
      <description>SoftRecordingPrivacyModeEnabled</description>
      <mandatoryConform>
        <feature name="PRIV"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0014" side="server" define="SOFT_LIVESTREAM_PRIVACY_MODE_ENABLED" type="boolean" default="0" writable="true" optional="true">
      <description>SoftLivestreamPrivacyModeEnabled</description>
      <mandatoryConform>
        <feature name="PRIV"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0015" side="server" define="HARD_PRIVACY_MODE_ON" type="boolean" default="0" optional="true">
      <description>HardPrivacyModeOn</description>
      <optionalConform/>
    </attribute>
    <attribute code="0x0016" side="server" define="NIGHT_VISION" type="TriStateAutoEnum" min="0x00" max="0x02" writable="true" optional="true">
      <description>NightVision</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform>
        <orTerm>
          <feature name="VDO"/>
          <feature name="SNP"/>
        </orTerm>
      </optionalConform>
    </attribute>
    <attribute code="0x0017" side="server" define="NIGHT_VISION_ILLUM" type="TriStateAutoEnum" min="0x00" max="0x02" writable="true" optional="true">
      <description>NightVisionIllum</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform>
        <orTerm>
          <feature name="VDO"/>
          <feature name="SNP"/>
        </orTerm>
      </optionalConform>
    </attribute>
    <attribute code="0x0018" side="server" define="VIEWPORT" type="ViewportStruct" writable="true" optional="true">
      <description>Viewport</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0019" side="server" define="SPEAKER_MUTED" type="boolean" default="0" writable="true" optional="true">
      <description>SpeakerMuted</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <mandatoryConform>
        <andTerm>
          <feature name="ADO"/>
          <feature name="SPKR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x001A" side="server" define="SPEAKER_VOLUME_LEVEL" type="int8u" max="254" writable="true" optional="true">
      <description>SpeakerVolumeLevel</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <mandatoryConform>
        <andTerm>
          <feature name="ADO"/>
          <feature name="SPKR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x001B" side="server" define="SPEAKER_MAX_LEVEL" type="int8u" max="254" optional="true">
      <description>SpeakerMaxLevel</description>
      <access op="read" privilege="manage"/>
      <mandatoryConform>
        <andTerm>
          <feature name="ADO"/>
          <feature name="SPKR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x001C" side="server" define="SPEAKER_MIN_LEVEL" type="int8u" max="254" optional="true">
      <description>SpeakerMinLevel</description>
      <access op="read" privilege="manage"/>
      <mandatoryConform>
        <andTerm>
          <feature name="ADO"/>
          <feature name="SPKR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x001D" side="server" define="MICROPHONE_MUTED" type="boolean" default="0" writable="true" optional="true">
      <description>MicrophoneMuted</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x001E" side="server" define="MICROPHONE_VOLUME_LEVEL" type="int8u" max="254" writable="true" optional="true">
      <description>MicrophoneVolumeLevel</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x001F" side="server" define="MICROPHONE_MAX_LEVEL" type="int8u" max="254" optional="true">
      <description>MicrophoneMaxLevel</description>
      <access op="read" privilege="manage"/>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0020" side="server" define="MICROPHONE_MIN_LEVEL" type="int8u" max="254" optional="true">
      <description>MicrophoneMinLevel</description>
      <access op="read" privilege="manage"/>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0021" side="server" define="MICROPHONE_AGCENABLED" type="boolean" default="1" writable="true" optional="true">
      <description>MicrophoneAGCEnabled</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform>
        <feature name="ADO"/>
      </optionalConform>
    </attribute>
    <attribute code="0x0022" side="server" define="IMAGE_ROTATION" type="int16u" max="359" writable="true" optional="true">
      <description>ImageRotation</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform choice="b" more="true" min="1">
        <feature name="ICTL"/>
      </optionalConform>
    </attribute>
    <attribute code="0x0023" side="server" define="IMAGE_FLIP_HORIZONTAL" type="boolean" default="0" writable="true" optional="true">
      <description>ImageFlipHorizontal</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform choice="b" more="true" min="1">
        <feature name="ICTL"/>
      </optionalConform>
    </attribute>
    <attribute code="0x0024" side="server" define="IMAGE_FLIP_VERTICAL" type="boolean" default="0" writable="true" optional="true">
      <description>ImageFlipVertical</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform choice="b" more="true" min="1">
        <feature name="ICTL"/>
      </optionalConform>
    </attribute>
    <attribute code="0x0025" side="server" define="LOCAL_VIDEO_RECORDING_ENABLED" type="boolean" default="0" writable="true" optional="true">
      <description>LocalVideoRecordingEnabled</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <mandatoryConform>
        <andTerm>
          <feature name="VDO"/>
          <feature name="STOR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0026" side="server" define="LOCAL_SNAPSHOT_RECORDING_ENABLED" type="boolean" default="0" writable="true" optional="true">
      <description>LocalSnapshotRecordingEnabled</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <mandatoryConform>
        <andTerm>
          <feature name="SNP"/>
          <feature name="STOR"/>
        </andTerm>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0027" side="server" define="STATUS_LIGHT_ENABLED" type="boolean" default="1" writable="true" optional="true">
      <description>StatusLightEnabled</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform/>
    </attribute>
    <attribute code="0x0028" side="server" define="STATUS_LIGHT_BRIGHTNESS" type="ThreeLevelAutoEnum" min="0x00" max="0x03" writable="true" optional="true">
      <description>StatusLightBrightness</description>
      <access op="read" privilege="manage"/>
      <access op="write" privilege="manage"/>
      <optionalConform/>
    </attribute>
    <command code="0x00" source="client" name="AudioStreamAllocate" optional="true" response="AudioStreamAllocateResponse">
      <description>This command SHALL allocate an audio stream on the camera and return an allocated audio stream identifier.</description>
      <access op="invoke" privilege="manage"/>
      <arg id="0" name="StreamUsage" type="StreamUsageEnum" min="0x00" max="0x03"/>
      <arg id="1" name="AudioCodec" type="AudioCodecEnum" min="0x00" max="0x01"/>
      <arg id="2" name="ChannelCount" type="int8u" default="1" min="1" max="8"/>
      <arg id="3" name="SampleRate" type="int32u" min="1"/>
      <arg id="4" name="BitRate" type="int32u" min="1"/>
      <arg id="5" name="BitDepth" type="int8u" min="8" max="32"/>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </command>

    <command code="0x01" source="server" name="AudioStreamAllocateResponse" optional="true" disableDefaultResponse="true">
      <description>This command SHALL be sent by the camera in response to the AudioStreamAllocate command, carrying the newly allocated audio stream identifier.</description>
      <arg id="0" name="AudioStreamID" type="int16u"/>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </command>

    <command code="0x02" source="client" name="AudioStreamDeallocate" optional="true">
      <description>This command SHALL deallocate an audio stream on the camera, corresponding to the given audio stream identifier.</description>
      <access op="invoke" privilege="manage"/>
      <arg id="0" name="AudioStreamID" type="int16u"/>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </command>

    <command code="0x03" source="client" name="VideoStreamAllocate" optional="true" response="VideoStreamAllocateResponse">
      <description>This command SHALL allocate a video stream on the camera and return an allocated video stream identifier.</description>
      <access op="invoke" privilege="manage"/>
      <arg id="1" name="StreamUsage" type="StreamUsageEnum" min="0x00" max="0x03"/>
      <arg id="2" name="VideoCodec" type="VideoCodecEnum" min="0x00" max="0x03"/>
      <arg id="3" name="MinFrameRate" type="int16u" min="1"/>
      <arg id="4" name="MaxFrameRate" type="int16u" min="1"/>
      <arg id="5" name="MinResolution" type="VideoResolutionStruct"/>
      <arg id="6" name="MaxResolution" type="VideoResolutionStruct"/>
      <arg id="7" name="MinBitRate" type="int32u" min="1"/>
      <arg id="8" name="MaxBitRate" type="int32u" min="1"/>
      <arg id="9" name="MinFragmentLen" type="int16u" default="4000" max="65500"/>
      <arg id="10" name="MaxFragmentLen" type="int16u" default="4000" max="65500"/>
      <arg id="11" name="WatermarkEnabled" type="boolean" optional="true" default="0"/>
      <arg id="12" name="OSDEnabled" type="boolean" optional="true" default="0"/>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </command>

    <command code="0x04" source="server" name="VideoStreamAllocateResponse" optional="true" disableDefaultResponse="true">
      <description>This command SHALL be sent by the camera in response to the VideoStreamAllocate command, carrying the newly allocated video stream identifier.</description>
      <arg id="0" name="VideoStreamID" type="int16u"/>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </command>

    <command code="0x05" source="client" name="VideoStreamModify" optional="true">
      <description>This command SHALL be used to modify a stream specified by the VideoStreamID.</description>
      <access op="invoke" privilege="manage"/>
      <arg id="0" name="VideoStreamID" type="int16u"/>
      <arg id="1" name="WatermarkEnabled" type="boolean" optional="true"/>
      <arg id="2" name="OSDEnabled" type="boolean" optional="true"/>
      <mandatoryConform>
        <andTerm>
          <feature name="VDO"/>
          <orTerm>
            <feature name="WMARK"/>
            <feature name="OSD"/>
          </orTerm>
        </andTerm>
      </mandatoryConform>
    </command>

    <command code="0x06" source="client" name="VideoStreamDeallocate" optional="true">
      <description>This command SHALL deallocate a video stream on the camera, corresponding to the given video stream identifier.</description>
      <access op="invoke" privilege="manage"/>
      <arg id="0" name="VideoStreamID" type="int16u"/>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </command>

    <command code="0x07" source="client" name="SnapshotStreamAllocate" optional="true" response="SnapshotStreamAllocateResponse">
      <description>This command SHALL allocate a snapshot stream on the device and return an allocated snapshot stream identifier.</description>
      <access op="invoke" privilege="manage"/>
      <arg id="1" name="ImageCodec" type="ImageCodecEnum" min="0x00" max="0x00"/>
      <arg id="2" name="MaxFrameRate" type="int16u" min="1"/>
      <arg id="3" name="BitRate" type="int32u" min="1"/>
      <arg id="4" name="MinResolution" type="VideoResolutionStruct"/>
      <arg id="5" name="MaxResolution" type="VideoResolutionStruct"/>
      <arg id="6" name="Quality" type="int8u" min="1" max="100"/>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </command>

    <command code="0x08" source="server" name="SnapshotStreamAllocateResponse" optional="true" disableDefaultResponse="true">
      <description>This command SHALL be sent by the device in response to the SnapshotStreamAllocate command, carrying the newly allocated snapshot stream identifier.</description>
      <arg id="0" name="SnapshotStreamID" type="int16u"/>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </command>

    <command code="0x09" source="client" name="SnapshotStreamDeallocate" optional="true">
      <description>This command SHALL deallocate an snapshot stream on the camera, corresponding to the given snapshot stream identifier.</description>
      <access op="invoke" privilege="manage"/>
      <arg id="0" name="SnapshotStreamID" type="int16u"/>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </command>

    <command code="0x0A" source="client" name="SetStreamPriorities" optional="false">
      <description>This command SHALL set the relative priorities of the various stream usages on the camera.</description>
      <access op="invoke" privilege="administer"/>
      <arg id="0" name="StreamPriorities" array="true" type="StreamUsageEnum"/>
    </command>

    <command code="0x0B" source="client" name="CaptureSnapshot" optional="true" response="CaptureSnapshotResponse">
      <description>This command SHALL return a Snapshot from the camera.</description>
      <quality largeMessage="true"/>
      <arg id="0" name="SnapshotStreamID" type="int16u"/>
      <arg id="1" name="RequestedResolution" type="VideoResolutionStruct"/>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </command>

    <command code="0x0C" source="server" name="CaptureSnapshotResponse" optional="true" disableDefaultResponse="true">
      <description>This command SHALL be sent by the device in response to the CaptureSnapshot command, carrying the requested snapshot.</description>
      <quality largeMessage="true"/>
      <arg id="0" name="Data" type="octet_string"/>
      <arg id="1" name="ImageCodec" type="ImageCodecEnum" min="0x00" max="0x00"/>
      <arg id="2" name="Resolution" type="VideoResolutionStruct"/>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </command>

    <event code="0x0000" name="VideoStreamChanged" priority="info" side="server" optional="true">
      <field id="0" name="VideoStreamID" type="int16u"/>
      <field id="1" name="StreamUsage" type="StreamUsageEnum" optional="true" min="0x00" max="0x03"/>
      <field id="2" name="VideoCodec" type="VideoCodecEnum" optional="true" min="0x00" max="0x03"/>
      <field id="3" name="MinFrameRate" type="int16u" optional="true" min="1"/>
      <field id="4" name="MaxFrameRate" type="int16u" optional="true" min="1"/>
      <field id="5" name="MinResolution" type="VideoResolutionStruct" optional="true"/>
      <field id="6" name="MaxResolution" type="VideoResolutionStruct" optional="true"/>
      <field id="7" name="MinBitRate" type="int32u" optional="true" min="1"/>
      <field id="8" name="MaxBitRate" type="int32u" optional="true" min="1"/>
      <field id="9" name="MinFragmentLen" type="int16u" optional="true" max="65500"/>
      <field id="10" name="MaxFragmentLen" type="int16u" optional="true" max="65500"/>
      <description>This event SHALL be generated when there is a modification in the corresponding video stream.</description>
      <mandatoryConform>
        <feature name="VDO"/>
      </mandatoryConform>
    </event>

    <event code="0x0001" name="AudioStreamChanged" priority="info" side="server" optional="true">
      <field id="0" name="AudioStreamID" type="int16u"/>
      <field id="1" name="StreamUsage" type="StreamUsageEnum" optional="true" min="0x00" max="0x03"/>
      <field id="2" name="AudioCodec" type="AudioCodecEnum" optional="true" min="0x00" max="0x01"/>
      <field id="3" name="ChannelCount" type="int8u" optional="true" min="1" max="8"/>
      <field id="4" name="SampleRate" type="int32u" optional="true" min="1"/>
      <field id="5" name="BitRate" type="int32u" optional="true" min="1"/>
      <field id="6" name="BitDepth" type="int8u" optional="true" min="8" max="32"/>
      <description>This event SHALL be generated when there is a modification in the corresponding audio stream.</description>
      <mandatoryConform>
        <feature name="ADO"/>
      </mandatoryConform>
    </event>

    <event code="0x0002" name="SnapshotStreamChanged" priority="info" side="server" optional="true">
      <field id="0" name="SnapshotStreamID" type="int16u"/>
      <field id="1" name="ImageCodec" type="ImageCodecEnum" optional="true" min="0x00" max="0x00"/>
      <field id="2" name="FrameRate" type="int16u" optional="true" min="1"/>
      <field id="3" name="BitRate" type="int32u" optional="true" min="1"/>
      <field id="4" name="MinResolution" type="VideoResolutionStruct" optional="true"/>
      <field id="5" name="MaxResolution" type="VideoResolutionStruct" optional="true"/>
      <field id="6" name="Quality" type="int8u" optional="true" min="1" max="100"/>
      <description>This event SHALL be generated when there is a modification in the corresponding snapshot stream.</description>
      <mandatoryConform>
        <feature name="SNP"/>
      </mandatoryConform>
    </event>

    <features>
      <feature bit="0" code="ADO" name="Audio" summary="Audio Streams supported">
        <optionalConform choice="a" more="true" min="1"/>
      </feature>
      <feature bit="1" code="VDO" name="Video" summary="Video Streams supported">
        <optionalConform choice="a" more="true" min="1"/>
      </feature>
      <feature bit="2" code="SNP" name="Snapshot" summary="Snapshot Streams supported">
        <optionalConform choice="a" more="true" min="1"/>
      </feature>
      <feature bit="3" code="PRIV" name="Privacy" summary="Privacy supported">
        <optionalConform/>
      </feature>
      <feature bit="4" code="SPKR" name="Speaker" summary="Speaker supported">
        <optionalConform/>
      </feature>
      <feature bit="5" code="ICTL" name="ImageControl" summary="Image control supported">
        <optionalConform/>
      </feature>
      <feature bit="6" code="WMARK" name="Watermark" summary="Watermark supported">
        <optionalConform/>
      </feature>
      <feature bit="7" code="OSD" name="OnScreenDisplay" summary="OSD supported">
        <optionalConform/>
      </feature>
      <feature bit="8" code="STOR" name="LocalStorage" summary="Local Storage available">
        <optionalConform/>
      </feature>
    </features>
  </cluster>
</configurator>

name: Analyze Changed Paths

on:
  workflow_call:
    outputs:
      non_md_changes:
        description: "Determines whether the changed paths contain non-markdwon changes."
        value: ${{ jobs.non_md_changes.outputs.non_markdown_changes }}

jobs:
  non_md_changes:
    runs-on: ubuntu-latest
    if: github.actor != 'restyled-io[bot]'
    outputs:
      non_markdown_changes: ${{ steps.filter.outputs.non_markdown_changes }}
    steps:
      - uses: actions/checkout@v4
      - name: Check for non-markdown files
        id: filter
        uses: dorny/paths-filter@v3
        with:
          filters: |
            non_markdown_changes:
              - '!**/*.md'